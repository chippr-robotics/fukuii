# Run 004 Configuration - ETC Mainnet with Extended Timeouts
# This configuration sets up a Fukuii node for the ETC mainnet
# with enhanced debug logging and extended timeouts to address
# the peer disconnection issue identified in run-003

include "base.conf"

fukuii {
  blockchains {
    # Network set to ETC (mainnet) - continuing from run-003
    # ETC mainnet provides better peer availability than Mordor testnet
    network = "etc"
  }

  sync {
    # Disable fast sync for run-004 - focusing exclusively on SNAP sync testing
    # Fast sync and SNAP sync are independent features with no interdependence
    do-fast-sync = false

    # Ensure SNAP sync is enabled (this is the focus of run-004 testing)
    do-snap-sync = true

    # INCREASED from run-003: 60s -> 90s
    # Run 003 analysis: Peers are being blacklisted at ~15s after request is sent,
    # but the SNAP timeout is 30s. By increasing this to 90s, we give peers more
    # time to respond before timing out, which may reduce premature blacklisting.
    peer-response-timeout = 90.seconds

    # Keep reduced blacklist durations from run-003
    # This allows faster retry if peers do get blacklisted
    blacklist-duration = 60.seconds

    # Keep reduced critical blacklist duration from run-003
    critical-blacklist-duration = 30.minutes

    snap-sync {
      # INCREASED from base: 30s -> 60s
      # Run 003 analysis: SNAP request timeouts occur at 30s, but peers are
      # blacklisted earlier. Increasing this gives more time for slow responses.
      request-timeout = 60.seconds
    }
  }

  network {
    peer {
      # Keep reduced short blacklist duration from run-003
      short-blacklist-duration = 2.minutes

      # Keep reduced long blacklist duration from run-003
      long-blacklist-duration = 30.minutes
    }
  }
}
