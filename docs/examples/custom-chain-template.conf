# Example Custom Network Chain Configuration
#
# This is a template for creating custom network configurations.
# Copy this file to your custom chains directory and modify the values as needed.
#
# File naming: <network-name>-chain.conf (e.g., mynetwork-chain.conf)
# Usage: 
#   1. Place this file in a directory (e.g., /etc/fukuii/chains/)
#   2. Set fukuii.blockchains.custom-chains-dir=/etc/fukuii/chains
#   3. Set fukuii.blockchains.network=<network-name>
#
# See docs/runbooks/custom-networks.md for detailed documentation

{
  # Network identifier for peer discovery and handshaking
  # Choose a unique network-id not used by existing networks
  # Common values: 1 (ETH mainnet), 61 (ETC mainnet), 63 (Mordor testnet)
  network-id = 12345

  # Chain ID for transaction signing (EIP-155)
  # This prevents replay attacks across different chains
  # IMPORTANT: Chain IDs are stored as signed bytes (-128 to 127)
  # Choose a value in this range to avoid overflow issues
  # Use hex format: "0x7B" = 123 in decimal
  chain-id = "0x7B"

  # Supported Ethereum protocol capabilities
  # These determine which p2p protocol versions are supported
  capabilities = ["eth/63", "eth/64", "eth/65", "eth/66", "eth/67", "eth/68"]

  # Fork activation block numbers
  # Set to "0" to enable from genesis
  # Set to "1000000000000000000" (far future) to disable

  # Basic Ethereum forks
  frontier-block-number = "0"               # Genesis features
  homestead-block-number = "0"              # First major upgrade (EIP-2)
  eip150-block-number = "0"                 # Gas cost changes
  eip155-block-number = "0"                 # Replay protection
  eip160-block-number = "0"                 # EXP cost increase
  eip161-block-number = "1000000000000000000"  # State trie clearing (ETH only)
  
  # Ethereum mainnet forks
  byzantium-block-number = "0"              # Byzantium fork (EIP-609)
  constantinople-block-number = "1000000000000000000"  # Constantinople
  petersburg-block-number = "1000000000000000000"      # Petersburg
  istanbul-block-number = "1000000000000000000"        # Istanbul
  muir-glacier-block-number = "1000000000000000000"    # Difficulty bomb delay
  berlin-block-number = "1000000000000000000"          # Berlin

  # Ethereum Classic specific forks (disable for non-ETC networks)
  atlantis-block-number = "1000000000000000000"   # ETC Byzantium equivalent
  agharta-block-number = "1000000000000000000"    # ETC Constantinople equivalent
  phoenix-block-number = "1000000000000000000"    # ETC Istanbul equivalent
  magneto-block-number = "1000000000000000000"    # ETC Berlin equivalent
  mystique-block-number = "1000000000000000000"   # EIP-3529: Reduction in refunds
  spiral-block-number = "1000000000000000000"     # PUSH0, warm COINBASE, etc.

  # ETC protocol features (disable for non-ETC networks)
  ecip1098-block-number = "1000000000000000000"  # Proto-treasury
  ecip1097-block-number = "1000000000000000000"  # Checkpointing
  ecip1099-block-number = "1000000000000000000"  # Epoch calibration
  eip106-block-number = "1000000000000000000"    # EIP-106 fork

  # Difficulty bomb configuration
  # Usually disabled for custom networks
  difficulty-bomb-pause-block-number = "0"
  difficulty-bomb-continue-block-number = "0"
  difficulty-bomb-removal-block-number = "0"

  # Maximum contract code size in bytes (EIP-170)
  # Standard value is 24576 (24 KB)
  max-code-size = "24576"

  # DAO fork configuration (usually disabled for custom networks)
  # Set to null to disable
  dao = null

  # Starting nonce for new accounts
  # Standard value is "0"
  account-start-nonce = "0"

  # Custom genesis file
  # Set to null to use default Ethereum genesis
  # Or reference a custom genesis JSON file in the same directory
  custom-genesis-file = null
  # Example with custom genesis:
  # custom-genesis-file = { include required("mynetwork-genesis.json") }

  # Treasury address (ETC-specific feature, usually not used for custom networks)
  treasury-address = "0011223344556677889900112233445566778899"

  # Monetary policy configuration
  # Defines block rewards and how they change over time
  monetary-policy {
    # Initial block reward in wei (1 ETH = 1,000,000,000,000,000,000 wei)
    # Example: 5 ETH = "5000000000000000000"
    first-era-block-reward = "5000000000000000000"

    # Reduced reward after Byzantium (ETH) or equivalents
    # For custom networks, often set same as first-era-block-reward
    first-era-reduced-block-reward = "5000000000000000000"

    # Reduced reward after Constantinople or equivalents
    # For custom networks, often set same as first-era-block-reward
    first-era-constantinople-reduced-block-reward = "5000000000000000000"

    # Era duration in number of blocks
    # ETC uses 5,000,000 blocks per era
    # ETH effectively has one era (set to large number to disable reduction)
    # Example: 500000000 blocks = ~9500 years at 15s block time (effectively infinite)
    era-duration = 500000000

    # Reward reduction rate per era (0.0 to 1.0)
    # ETC uses 0.2 (20% reduction per era)
    # ETH uses 0 (no reduction by era, only by forks)
    # 0.0 = no reduction, 1.0 = full reduction (not recommended)
    reward-reduction-rate = 0
  }

  # Gas tie breaker
  # If two competing branches have equal total difficulty, use gas consumed as tie-breaker
  # Usually false, only used in some blockchain tests
  gas-tie-breaker = false

  # Storage format
  # true = Use Ethereum-specific format for storing keys/values in MPT (32 byte)
  # false = Use generic storage for arbitrary length integers
  # Recommended: true for Ethereum compatibility
  eth-compatible-storage = true

  # Bootstrap nodes for peer discovery
  # List of enode URLs that help new nodes discover peers
  # Format: "enode://<public-key>@<ip>:<port>"
  # Leave empty for development networks, populate for production networks
  bootstrap-nodes = [
    # Example:
    # "enode://abcdef1234567890@192.168.1.10:30303",
    # "enode://0987654321fedcba@192.168.1.11:30303"
  ]

  # Bootstrap checkpoints (optional)
  # Trusted blocks that can be used as starting points for syncing
  # Format: "blockNumber:blockHash"
  # Recommended for production networks to speed up initial sync
  # bootstrap-checkpoints = [
  #   "100000:0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",
  #   "200000:0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890"
  # ]

  # Enable bootstrap checkpoints (optional, default: true)
  # Set to false to force full chain validation from genesis
  # use-bootstrap-checkpoints = true

  # MESS (Modified Exponential Subjective Scoring) configuration (optional)
  # Provides protection against long-range reorganization attacks
  # mess {
  #   enabled = false
  #   decay-constant = 0.0001
  #   max-time-delta = 2592000
  #   min-weight-multiplier = 0.0001
  # }
}
