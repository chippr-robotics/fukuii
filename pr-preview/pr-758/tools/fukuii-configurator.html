<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fukuii ETC Node Configuration Tool</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: #0a0e0f;
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(90deg, rgba(0, 255, 65, 0.03) 1px, transparent 1px),
                linear-gradient(rgba(0, 255, 65, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: 0;
            animation: gridScroll 20s linear infinite;
        }

        @keyframes gridScroll {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 0;
            box-shadow: 
                0 0 50px rgba(0, 255, 65, 0.2),
                0 0 100px rgba(0, 255, 65, 0.1),
                inset 0 0 80px rgba(0, 255, 65, 0.02);
            overflow: hidden;
            position: relative;
            border: 2px solid #00ff41;
        }

        .container::before,
        .container::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 100px;
            border: 3px solid #00ff41;
            z-index: 10;
        }

        .container::before {
            top: -2px;
            left: -2px;
            border-right: none;
            border-bottom: none;
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.5);
        }

        .container::after {
            bottom: -2px;
            right: -2px;
            border-left: none;
            border-top: none;
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.5);
        }

        .header {
            background: linear-gradient(135deg, #ffffff 0%, #f0fff4 100%);
            padding: 50px 30px;
            text-align: center;
            position: relative;
            border-bottom: 3px solid #00ff41;
            box-shadow: 0 4px 20px rgba(0, 255, 65, 0.1);
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                #00ff41 50%, 
                transparent 100%);
            animation: scanline 3s linear infinite;
        }

        @keyframes scanline {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            font-weight: 900;
            color: #1a1a1a;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 
                0 0 20px rgba(0, 255, 65, 0.3),
                2px 2px 0px rgba(0, 255, 65, 0.1);
        }

        .header .etc-badge {
            display: inline-block;
            background: linear-gradient(135deg, #00ff41 0%, #00cc33 100%);
            color: #000;
            padding: 8px 20px;
            border-radius: 0;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 0.9rem;
            letter-spacing: 2px;
            margin-bottom: 15px;
            box-shadow: 
                0 0 20px rgba(0, 255, 65, 0.5),
                inset 0 2px 10px rgba(255, 255, 255, 0.3);
            border: 1px solid #00ff41;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 65, 0.5); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 65, 0.8); }
        }

        .header p {
            color: #2d3748;
            font-size: 1.2rem;
            font-weight: 500;
            letter-spacing: 1px;
        }

        .content {
            padding: 40px;
            position: relative;
            z-index: 1;
        }

        .section {
            background: linear-gradient(135deg, #ffffff 0%, #f7fef9 100%);
            border-radius: 0;
            padding: 30px;
            margin-bottom: 25px;
            border-left: 4px solid #00ff41;
            border-right: 1px solid rgba(0, 255, 65, 0.2);
            box-shadow: 
                0 5px 20px rgba(0, 255, 65, 0.08),
                inset 0 1px 0 rgba(0, 255, 65, 0.1);
            position: relative;
            overflow: hidden;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, 
                #00ff41 0%, 
                transparent 50%);
        }

        .section h2 {
            color: #1a1a1a;
            margin-bottom: 25px;
            font-size: 1.8rem;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 15px;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .section h2::before {
            content: '';
            width: 4px;
            height: 30px;
            background: linear-gradient(180deg, #00ff41 0%, #00cc33 100%);
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #2d3748;
            font-weight: 600;
            font-size: 1rem;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px;
            border: 2px solid #e2e8f0;
            background: #ffffff;
            border-radius: 0;
            font-size: 1rem;
            font-family: 'Rajdhani', sans-serif;
            transition: all 0.3s ease;
            color: #1a1a1a;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #00ff41;
            box-shadow: 
                0 0 0 3px rgba(0, 255, 65, 0.1),
                0 0 20px rgba(0, 255, 65, 0.2),
                inset 0 2px 4px rgba(0, 255, 65, 0.05);
            background: #f7fef9;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
        }

        .help-text {
            font-size: 0.9rem;
            color: #4a5568;
            margin-top: 8px;
            font-weight: 400;
            line-height: 1.5;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: linear-gradient(135deg, #f7fef9 0%, #ffffff 100%);
            border: 1px solid rgba(0, 255, 65, 0.2);
            border-radius: 0;
        }

        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #00ff41;
        }

        .checkbox-group label {
            margin: 0;
            text-transform: none;
            font-family: 'Rajdhani', sans-serif;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #f7fef9 0%, #ffffff 100%);
            border: 2px solid #00ff41;
            position: relative;
        }

        .button-group::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                #00ff41 50%, 
                transparent 100%);
            animation: scanline 2s linear infinite;
        }

        .btn {
            padding: 16px 35px;
            font-size: 1.1rem;
            font-weight: 700;
            font-family: 'Orbitron', sans-serif;
            border: none;
            border-radius: 0;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            letter-spacing: 2px;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.3) 50%, 
                transparent 100%);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00ff41 0%, #00cc33 100%);
            color: #000;
            border: 2px solid #00ff41;
            box-shadow: 
                0 5px 20px rgba(0, 255, 65, 0.3),
                inset 0 2px 10px rgba(255, 255, 255, 0.2);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 8px 30px rgba(0, 255, 65, 0.5),
                inset 0 2px 10px rgba(255, 255, 255, 0.3);
        }

        .btn-secondary {
            background: #ffffff;
            color: #00ff41;
            border: 2px solid #00ff41;
        }

        .btn-secondary:hover {
            background: #f7fef9;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0, 255, 65, 0.2);
        }

        .config-output {
            background: #0a0e0f;
            color: #00ff41;
            padding: 30px;
            border: 2px solid #00ff41;
            margin-top: 25px;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.8;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 600px;
            overflow-y: auto;
            box-shadow: 
                0 0 40px rgba(0, 255, 65, 0.3),
                inset 0 0 40px rgba(0, 255, 65, 0.1);
            position: relative;
            padding-top: 50px;
        }

        .config-output::before {
            content: 'FUKUII CONFIGURATION OUTPUT';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            background: #00ff41;
            color: #000;
            padding: 5px 10px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8rem;
            font-weight: 700;
            letter-spacing: 2px;
        }

        .config-output::-webkit-scrollbar {
            width: 12px;
        }

        .config-output::-webkit-scrollbar-track {
            background: #1a1a1a;
            border-left: 1px solid #00ff41;
        }

        .config-output::-webkit-scrollbar-thumb {
            background: #00ff41;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
        }

        .tabs {
            display: flex;
            gap: 0;
            margin-bottom: 30px;
            border-bottom: 3px solid #00ff41;
            flex-wrap: wrap;
            background: linear-gradient(180deg, #ffffff 0%, #f7fef9 100%);
        }

        .tab {
            padding: 16px 28px;
            background: #ffffff;
            border: none;
            border-bottom: 4px solid transparent;
            cursor: pointer;
            font-weight: 700;
            font-family: 'Orbitron', sans-serif;
            color: #4a5568;
            transition: all 0.3s ease;
            letter-spacing: 1px;
            text-transform: uppercase;
            font-size: 0.9rem;
            position: relative;
        }

        .tab::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 4px;
            background: #00ff41;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
        }

        .tab:hover::after {
            width: 100%;
        }

        .tab.active {
            color: #00ff41;
            background: linear-gradient(180deg, #f7fef9 0%, #ffffff 100%);
            border-bottom-color: #00ff41;
            box-shadow: 
                0 0 20px rgba(0, 255, 65, 0.2),
                inset 0 2px 10px rgba(0, 255, 65, 0.05);
        }

        .tab.active::after {
            width: 100%;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .alert {
            padding: 20px;
            border-radius: 0;
            margin-bottom: 25px;
            border-left: 4px solid #00ff41;
            font-weight: 500;
            background: linear-gradient(135deg, #f0fff4 0%, #ffffff 100%);
            color: #2d3748;
            box-shadow: 0 4px 15px rgba(0, 255, 65, 0.1);
        }

        .alert strong {
            font-family: 'Orbitron', sans-serif;
            color: #00ff41;
            text-shadow: 0 0 5px rgba(0, 255, 65, 0.3);
        }

        .corner-glow {
            position: fixed;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
        }

        .corner-glow.top-left {
            top: -100px;
            left: -100px;
            background: radial-gradient(circle, rgba(0, 255, 65, 0.15) 0%, transparent 70%);
        }

        .corner-glow.bottom-right {
            bottom: -100px;
            right: -100px;
            background: radial-gradient(circle, rgba(0, 255, 65, 0.15) 0%, transparent 70%);
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            .tabs {
                flex-direction: column;
            }
            .tab {
                width: 100%;
                text-align: left;
            }
            .grid {
                grid-template-columns: 1fr;
            }
        }

        .hidden {
            display: none;
        }

        .subsection {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px dashed rgba(0, 255, 65, 0.3);
        }

        .subsection h3 {
            font-family: 'Orbitron', sans-serif;
            color: #00ff41;
            font-size: 1.2rem;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Tooltip Styles */
        .info-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            margin-left: 8px;
            background: linear-gradient(135deg, #00ff41 0%, #00cc33 100%);
            color: #000;
            border-radius: 50%;
            font-size: 0.75rem;
            font-weight: 700;
            cursor: help;
            position: relative;
            border: 1px solid #00ff41;
            box-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
            transition: all 0.3s ease;
        }

        .info-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.6);
        }

        .tooltip-container {
            position: relative;
            display: inline-block;
        }

        .tooltip {
            visibility: hidden;
            opacity: 0;
            position: absolute;
            z-index: 1000;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0e0f 100%);
            color: #00ff41;
            padding: 15px 20px;
            border-radius: 0;
            border: 2px solid #00ff41;
            box-shadow: 
                0 0 30px rgba(0, 255, 65, 0.4),
                inset 0 0 20px rgba(0, 255, 65, 0.1);
            font-size: 0.85rem;
            line-height: 1.6;
            white-space: normal;
            max-width: 350px;
            min-width: 250px;
            transition: all 0.3s ease;
            pointer-events: none;
            font-family: 'Rajdhani', sans-serif;
        }

        .tooltip::before {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-top-color: #00ff41;
        }

        .tooltip::after {
            content: '';
            position: absolute;
            top: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                #00ff41 50%, 
                transparent 100%);
            animation: scanline 2s linear infinite;
        }

        .tooltip-container:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }

        .tooltip strong {
            color: #fff;
            display: block;
            margin-bottom: 8px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .tooltip ul {
            margin: 8px 0;
            padding-left: 20px;
        }

        .tooltip li {
            margin: 4px 0;
        }

        .tooltip code {
            background: rgba(0, 255, 65, 0.1);
            padding: 2px 6px;
            border: 1px solid rgba(0, 255, 65, 0.3);
            color: #00ff41;
            font-family: 'Courier New', monospace;
        }

        /* Adjust label to accommodate icon */
        .form-group label {
            display: flex;
            align-items: center;
        }

        /* Mobile adjustments for tooltips */
        @media (max-width: 768px) {
            .tooltip {
                max-width: 250px;
                font-size: 0.8rem;
                padding: 12px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="corner-glow top-left"></div>
    <div class="corner-glow bottom-right"></div>
    
    <div id="root">
        <div class="container">
            <div class="header">
                <div class="etc-badge">FUKUII ‚Ä¢ ENTERPRISE GRADE</div>
                <h1>Node Configurator</h1>
                <p>Secure Scala-Based ETC Client ‚Ä¢ Production Ready</p>
            </div>

            <div class="content">
                <div class="alert">
                    <strong>‚ö° ENTERPRISE NODE CONFIGURATION</strong> Configure your Fukuii node with enterprise-grade security and reliability. 
                    Optimized for production environments with comprehensive monitoring and compliance features.
                </div>

                <div class="tabs" id="tabs"></div>
                <div id="tab-content"></div>

                <div style="background: #e8f5e9; border-left: 4px solid #00ff41; padding: 15px; margin: 20px 0; border-radius: 4px;">
                    <strong>üìù Note:</strong> Generated configurations automatically include <code>include "app.conf"</code> at the top,
                    which loads all required Fukuii base settings. This is mandatory for proper node operation.
                </div>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="generateConfig()">
                        ‚ö° Generate Configuration
                    </button>
                    <button class="btn btn-secondary" onclick="resetConfig()">
                        üîÑ Reset All
                    </button>
                </div>

                <div id="output-section" class="hidden"></div>
            </div>
        </div>
    </div>

    <script>
        // COMPLETE Fukuii configuration state with ALL discovered options
        let config = {
            // Network Configuration
            networkId: 'etc',
            customNetworkId: '',
            dataDir: '~/.fukuii',
            
            // Node Identity
            nodeName: 'fukuii-node',
            clientId: 'fukuii',
            clientVersion: '1.0.0',
            
            // Network/P2P Configuration
            p2pPort: '30303',
            p2pHost: '0.0.0.0',
            p2pBindAddress: '0.0.0.0',
            maxPeers: '50',
            maxIncomingPeers: '25',
            maxOutgoingPeers: '25',
            enableDiscovery: true,
            discoveryEnabled: true,
            bootnodesUris: '',
            knownNodesFile: 'known-nodes.json',
            updateNodesInitialDelay: '5.seconds',
            updateNodesInterval: '20.seconds',
            
            // RPC HTTP Configuration
            enableRpcHttp: true,
            rpcHttpMode: 'http',
            rpcHttpInterface: '127.0.0.1',
            rpcHttpPort: '8545',
            rpcHttpAPIs: ['eth', 'web3', 'net'],
            rpcHttpCORSAllowedOrigins: '*',
            rpcHttpRateLimitEnabled: false,
            rpcHttpRateLimitMinDelay: '5.seconds',
            
            // RPC WebSocket Configuration
            enableRpcWs: false,
            rpcWsInterface: '127.0.0.1',
            rpcWsPort: '8546',
            
            // RPC IPC Configuration
            enableRpcIpc: false,
            rpcIpcSocketFile: '~/.fukuii/fukuii.ipc',
            
            // Mining Configuration
            enableMining: false,
            minerCoinbase: '',
            minerExtraData: 'fukuii',
            miningEnabled: false,
            ethashDir: '~/.fukuii/ethash',
            mineRounds: '100000',
            
            // Sync Configuration
            syncMode: 'fast',
            fastSyncEnabled: true,
            bootstrapEnabled: true,
            doFastSync: true,
            pivotBlockOffset: '128',
            maxBlocksHeadersPerRequest: '128',
            maxBlocksBodiesPerRequest: '128',
            maxReceiptsPerRequest: '60',
            maxMptComponentsPerRequest: '200',
            fastSyncThrottle: '100.milliseconds',
            
            // Blockchain/Database Configuration
            pruningMode: 'archive',
            pruningEnabled: false,
            cacheSize: '256',
            rocksDbCacheSize: '256',
            rocksDbBlockCacheSize: '128',
            rocksDbWriteBufferSize: '64',
            rocksDbMaxOpenFiles: '-1',
            rocksDbParallelism: '2',
            rocksDbCompression: 'snappy',
            
            // Transaction Pool
            enableTxPool: true,
            txPoolSize: '4096',
            pendingTxManagerQueryTimeout: '5.seconds',
            transactionTimeout: '30.minutes',
            
            // Gas Configuration
            gasLimit: '8000000',
            gasLimitTarget: '8000000',
            minGasPrice: '1000000000',
            
            // Health Check Configuration
            enableHealthCheck: true,
            healthCheckNoUpdateThreshold: '30.minutes',
            healthCheckSyncingThreshold: '10',
            healthCheckPort: '8546',
            
            // Metrics Configuration
            enableMetrics: false,
            metricsEnabled: false,
            metricsPort: '13798',
            metricsHost: '127.0.0.1',
            
            // Logging Configuration
            logLevel: 'INFO',
            logDir: '~/.fukuii/logs',
            logFile: 'fukuii.log',
            jsonRpcLogEnabled: false,
            
            // Filter Configuration
            filterManagerQueryTimeout: '3.minutes',
            filterTimeout: '10.minutes',
            
            // VM Configuration
            vmTraceEnabled: false,
            vmExternalMaxThreads: '4',
            
            // Security/TLS
            enableTLS: false,
            certificateKeyStorePath: '',
            certificateKeyStoreType: 'PKCS12',
            certificatePasswordFile: '',
            
            // Advanced Network
            networkTimeoutDuration: '30.seconds',
            handshakeTimeout: '30.seconds',
            connectMaxRetries: '3',
            connectRetryDelay: '1.second',
            disconnectPoisonPillTimeout: '5.seconds',
            maxQueuedMessages: '1000',
            
            // Testing/Development
            developmentMode: false,
            skipShortRecalculation: false,
            
            // Custom Flags
            customFlags: ''
        };

        let activeTab = 'network';

        const tabs = [
            { id: 'network', name: 'Network' },
            { id: 'p2p', name: 'P2P/Discovery' },
            { id: 'rpc', name: 'RPC/API' },
            { id: 'sync', name: 'Sync' },
            { id: 'mining', name: 'Mining' },
            { id: 'storage', name: 'Storage/DB' },
            { id: 'txpool', name: 'TX Pool' },
            { id: 'health', name: 'Health/Metrics' },
            { id: 'security', name: 'Security' },
            { id: 'advanced', name: 'Advanced' }
        ];

        // Tooltip definitions for all fields
        const tooltips = {
            networkId: {
                title: 'Network Selection',
                description: 'Choose which Ethereum Classic network to connect to. Production deployments should use ETC Mainnet. Mordor is for testing without real value.'
            },
            dataDir: {
                title: 'Data Directory',
                description: 'Location for blockchain data, logs, and keystore. Requires significant disk space (500GB-2TB). Use SSD for best performance. Ensure regular backups.'
            },
            nodeName: {
                title: 'Node Identifier',
                description: 'Human-readable name for your node. Visible to connected peers. Use descriptive names for monitoring: e.g., "prod-node-01", "staging-node-east"'
            },
            clientId: {
                title: 'Client Identifier',
                description: 'Software identifier broadcast to network peers. Standard format: <client>/<version>/<os>. Helps with network analytics and debugging.'
            },
            p2pPort: {
                title: 'P2P Network Port',
                description: 'Port for peer-to-peer blockchain communication. Must be open in firewall. Default 30303 recommended. Required for incoming connections and network participation.'
            },
            p2pHost: {
                title: 'P2P Bind Address',
                description: '0.0.0.0 = all interfaces (recommended). 127.0.0.1 = localhost only (testing). Specific IP = that interface only. Affects incoming peer connections.'
            },
            maxPeers: {
                title: 'Maximum Peer Connections',
                description: 'Total simultaneous peer connections. Higher = better resilience but more bandwidth/CPU. Recommended: 25-75. Enterprise: 50+. Resource constrained: 10-25.'
            },
            maxIncomingPeers: {
                title: 'Maximum Incoming Peers',
                description: 'Limit for peers connecting to you. Set lower if behind NAT or limited upload. Higher values help network health by serving more peers.'
            },
            maxOutgoingPeers: {
                title: 'Maximum Outgoing Peers',
                description: 'Limit for peers you connect to. Higher values improve block propagation and network awareness. Recommended: equal to or less than max incoming.'
            },
            enableDiscovery: {
                title: 'Peer Discovery',
                description: 'Automatically find and connect to network peers using DHT. Disable only for private networks with known peers. Essential for public network participation.'
            },
            bootnodesUris: {
                title: 'Bootstrap Node URIs',
                description: 'Initial connection points in enode:// format. Used when starting fresh or with few known peers. Multiple entries improve reliability. Format: enode://<pubkey>@<ip>:<port>'
            },
            rpcHttpInterface: {
                title: 'RPC Bind Address',
                description: '<strong>Security Critical!</strong> 127.0.0.1 = localhost only (secure). 0.0.0.0 = all interfaces (REQUIRES firewall + auth). Never expose without authentication!'
            },
            rpcHttpPort: {
                title: 'RPC HTTP Port',
                description: 'Port for JSON-RPC API access. Default 8545 for EVM compatibility. Block from internet via firewall. Use VPN or SSH tunnel for remote access.'
            },
            rpcHttpAPIs: {
                title: 'Enabled RPC APIs',
                description: '<strong>Security:</strong> Only enable needed APIs. Safe: eth, web3, net. <strong>Dangerous</strong> on public nodes: personal, admin, debug. Limit exposure per security policy.'
            },
            rpcHttpCORSAllowedOrigins: {
                title: 'CORS Allowed Origins',
                description: 'Controls browser access. <code>*</code> = any origin (DEV ONLY). Production: specify exact domains. Example: "https://app.company.com,https://dashboard.company.com"'
            },
            rpcHttpRateLimitEnabled: {
                title: 'RPC Rate Limiting',
                description: 'Protects against abuse and DoS. Highly recommended for production. Limits requests per IP/timeframe. Essential for public endpoints or high-traffic environments.'
            },
            enableRpcWs: {
                title: 'WebSocket RPC',
                description: 'Enables WebSocket for real-time subscriptions (newHeads, logs, etc). Required for dApps needing live updates. Uses persistent connections - monitor resource usage.'
            },
            enableRpcIpc: {
                title: 'IPC RPC',
                description: 'Unix socket for local process communication. Fastest RPC method. Secure (file permissions). Use for same-machine applications. No network exposure.'
            },
            syncMode: {
                title: 'Synchronization Mode',
                description: '<strong>Fast:</strong> Download state snapshot + recent blocks (hours). <strong>Full:</strong> Verify all blocks from genesis (days/weeks). Fast recommended for most use cases.'
            },
            fastSyncEnabled: {
                title: 'Fast Sync',
                description: 'Download recent state snapshot rather than processing all history. Reduces initial sync from weeks to hours. Switches to full sync after catching up. Recommended: enabled.'
            },
            bootstrapEnabled: {
                title: 'Bootstrap Database',
                description: 'Download pre-synced database archive to jumpstart node. Significantly faster than syncing from scratch. Verify checksums for security. Optional but recommended.'
            },
            pivotBlockOffset: {
                title: 'Pivot Block Offset',
                description: 'Number of blocks before chain head to start fast sync. Higher = more stable pivot point. Lower = faster initial sync. Default 128 balances stability vs speed.'
            },
            enableMining: {
                title: 'Mining Enabled',
                description: 'Enable Proof-of-Work mining. Requires significant GPU/ASIC resources for ETC. CPU mining not viable on mainnet. Consider pool mining vs solo mining. Monitor power costs.'
            },
            minerCoinbase: {
                title: 'Mining Reward Address',
                description: '<strong>Critical:</strong> Address to receive mining rewards. Must control private keys. Verify address before starting. Cannot be changed after blocks mined. Double-check format!'
            },
            minerExtraData: {
                title: 'Block Extra Data',
                description: 'Custom data in mined blocks (max 32 bytes). Often used for miner identification or messages. Public and immutable. Common: miner name, pool identifier, version info.'
            },
            ethashDir: {
                title: 'Ethash DAG Directory',
                description: 'Storage for Ethash DAG files (4GB+ per epoch). Updated every 30,000 blocks. Requires fast disk. Pre-generate DAG to avoid mining interruption during epoch transitions.'
            },
            rocksDbCacheSize: {
                title: 'RocksDB Cache Size',
                description: 'Memory for database caching. Higher = faster reads but more RAM usage. Recommended: 256MB-2GB based on available memory. Monitor system RAM. Improves query performance.'
            },
            rocksDbBlockCacheSize: {
                title: 'Block Cache Size',
                description: 'Dedicated cache for RocksDB blocks. Subset of total cache. Higher values improve read performance. Recommended: 50% of total RocksDB cache. Tune based on workload.'
            },
            rocksDbCompression: {
                title: 'Database Compression',
                description: '<strong>Snappy:</strong> Fast, moderate compression (recommended). <strong>LZ4:</strong> Faster, less compression. <strong>None:</strong> No compression, fastest, uses most disk.'
            },
            txPoolSize: {
                title: 'Transaction Pool Size',
                description: 'Maximum pending transactions held in memory. Higher = more backlog capacity but more memory usage. Recommended: 4096-16384. Miners may want larger pools.'
            },
            transactionTimeout: {
                title: 'Transaction Timeout',
                description: 'How long pending transactions remain in pool before removal. Longer = more patience for inclusion. Shorter = faster cleanup. Balance memory vs transaction liveness.'
            },
            enableHealthCheck: {
                title: 'Health Check Endpoints',
                description: 'Exposes /health, /readiness, /healthcheck endpoints. Essential for Kubernetes, Docker, load balancers. Enables automated monitoring and orchestration. Recommended: always enabled.'
            },
            healthCheckNoUpdateThreshold: {
                title: 'Block Update Threshold',
                description: 'Maximum time without new blocks before health check fails. Indicates sync issues or network problems. Triggers alerts. Recommended: 10-30 minutes based on network conditions.'
            },
            enableMetrics: {
                title: 'Prometheus Metrics',
                description: 'Export metrics in Prometheus format. Essential for production monitoring. Tracks peers, sync status, RPC requests, memory, disk. Integrate with Grafana for visualization.'
            },
            metricsPort: {
                title: 'Metrics Endpoint Port',
                description: 'Port for Prometheus to scrape metrics. Block from public internet. Allow only from monitoring systems. Default 13798 avoids common port conflicts.'
            },
            logLevel: {
                title: 'Logging Level',
                description: '<strong>ERROR:</strong> Errors only. <strong>WARN:</strong> Warnings + errors. <strong>INFO:</strong> General info (production). <strong>DEBUG:</strong> Detailed (troubleshooting). <strong>TRACE:</strong> Everything (verbose).'
            },
            jsonRpcLogEnabled: {
                title: 'RPC Request Logging',
                description: 'Log all JSON-RPC requests and responses. Useful for debugging and audit trails. Can be verbose. May contain sensitive data. Use with log rotation and retention policies.'
            },
            enableTLS: {
                title: 'TLS/SSL Encryption',
                description: '<strong>Production Required!</strong> Encrypts RPC traffic. Prevents eavesdropping. Use valid certificates from trusted CA. Required for compliance. Never use self-signed in production.'
            },
            certificateKeyStorePath: {
                title: 'Certificate Keystore',
                description: 'Path to keystore containing TLS certificate and private key. Format: PKCS12 or JKS. Secure file permissions (600). Backup securely. Rotate regularly per security policy.'
            },
            vmTraceEnabled: {
                title: 'EVM Tracing',
                description: 'Enable detailed execution tracing for debugging. Performance impact. Use only when troubleshooting smart contracts or investigating issues. Disable in production unless needed.'
            },
            developmentMode: {
                title: 'Development Mode',
                description: 'Enables developer-friendly settings: relaxed security, verbose logging, debug APIs. <strong>Never use in production!</strong> For local development and testing only.'
            },
            gasLimit: {
                title: 'Block Gas Limit',
                description: 'Maximum gas per block. Affects block size and transaction capacity. Network consensus parameter. Miners vote via this setting. Standard: 8,000,000. Check network policy.'
            },
            minGasPrice: {
                title: 'Minimum Gas Price',
                description: 'Reject transactions below this gas price (in Wei). Prevents spam. Miners set this to prioritize profitable transactions. Network average: 1-10 Gwei (1,000,000,000-10,000,000,000 Wei).'
            }
        };

        function createTooltip(fieldKey) {
            const info = tooltips[fieldKey];
            if (!info) return '';
            
            return `
                <div class="tooltip-container">
                    <span class="info-icon">i</span>
                    <div class="tooltip">
                        <strong>${info.title}</strong>
                        ${info.description}
                    </div>
                </div>
            `;
        }

        function init() {
            renderTabs();
            renderTabContent();
        }

        function renderTabs() {
            const tabsEl = document.getElementById('tabs');
            tabsEl.innerHTML = tabs.map(tab => `
                <button class="tab ${tab.id === activeTab ? 'active' : ''}" onclick="switchTab('${tab.id}')">
                    ${tab.name}
                </button>
            `).join('');
        }

        function switchTab(tabId) {
            activeTab = tabId;
            renderTabs();
            renderTabContent();
        }

        function updateConfig(key, value) {
            config[key] = value;
        }

        function toggleCheckbox(key) {
            config[key] = !config[key];
            renderTabContent();
        }

        function toggleAPI(api) {
            const index = config.rpcHttpAPIs.indexOf(api);
            if (index > -1) {
                config.rpcHttpAPIs.splice(index, 1);
            } else {
                config.rpcHttpAPIs.push(api);
            }
            renderTabContent();
        }

        function renderTabContent() {
            const contentEl = document.getElementById('tab-content');
            
            switch(activeTab) {
                case 'network':
                    contentEl.innerHTML = `
                        <div class="section">
                            <h2>Network Configuration</h2>
                            <div class="grid">
                                <div class="form-group">
                                    <label for="network-select">Network</label>
                                    <select id="network-select" onchange="updateConfig('networkId', this.value); renderTabContent();">
                                        <option value="etc" ${config.networkId === 'etc' ? 'selected' : ''}>ETC Mainnet</option>
                                        <option value="mordor" ${config.networkId === 'mordor' ? 'selected' : ''}>Mordor Testnet</option>
                                        <option value="testnet-internal" ${config.networkId === 'testnet-internal' ? 'selected' : ''}>Internal Testnet</option>
                                        <option value="custom" ${config.networkId === 'custom' ? 'selected' : ''}>Custom Network</option>
                                    </select>
                                    <div class="help-text">Select Ethereum Classic network</div>
                                </div>
                                ${config.networkId === 'custom' ? `
                                    <div class="form-group">
                                        <label for="custom-network-id">Custom Network ID</label>
                                        <input type="text" id="custom-network-id" value="${config.customNetworkId}" 
                                            onchange="updateConfig('customNetworkId', this.value)"
                                            placeholder="my-etc-network">
                                    </div>
                                ` : ''}
                                <div class="form-group">
                                    <label for="data-dir">Data Directory</label>
                                    <input type="text" id="data-dir" value="${config.dataDir}" 
                                        onchange="updateConfig('dataDir', this.value)"
                                        placeholder="~/.fukuii">
                                    <div class="help-text">Blockchain data location</div>
                                </div>
                                <div class="form-group">
                                    <label for="node-name">Node Name</label>
                                    <input type="text" id="node-name" value="${config.nodeName}" 
                                        onchange="updateConfig('nodeName', this.value)"
                                        placeholder="fukuii-node">
                                    <div class="help-text">Node identifier</div>
                                </div>
                                <div class="form-group">
                                    <label for="client-id">Client ID</label>
                                    <input type="text" id="client-id" value="${config.clientId}" 
                                        onchange="updateConfig('clientId', this.value)"
                                        placeholder="fukuii">
                                    <div class="help-text">Client identifier string</div>
                                </div>
                                <div class="form-group">
                                    <label for="client-version">Client Version</label>
                                    <input type="text" id="client-version" value="${config.clientVersion}" 
                                        onchange="updateConfig('clientVersion', this.value)"
                                        placeholder="1.0.0">
                                    <div class="help-text">Version string</div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'p2p':
                    contentEl.innerHTML = `
                        <div class="section">
                            <h2>P2P & Discovery Configuration</h2>
                            <div class="grid">
                                <div class="form-group">
                                    <label for="p2p-port">P2P Port</label>
                                    <input type="number" id="p2p-port" value="${config.p2pPort}" 
                                        onchange="updateConfig('p2pPort', this.value)"
                                        placeholder="30303">
                                    <div class="help-text">Peer-to-peer port</div>
                                </div>
                                <div class="form-group">
                                    <label for="p2p-host">P2P Host</label>
                                    <input type="text" id="p2p-host" value="${config.p2pHost}" 
                                        onchange="updateConfig('p2pHost', this.value)"
                                        placeholder="0.0.0.0">
                                    <div class="help-text">P2P bind address</div>
                                </div>
                                <div class="form-group">
                                    <label for="max-peers">Max Peers</label>
                                    <input type="number" id="max-peers" value="${config.maxPeers}" 
                                        onchange="updateConfig('maxPeers', this.value)"
                                        placeholder="50">
                                    <div class="help-text">Maximum peer connections</div>
                                </div>
                                <div class="form-group">
                                    <label for="max-incoming-peers">Max Incoming Peers</label>
                                    <input type="number" id="max-incoming-peers" value="${config.maxIncomingPeers}" 
                                        onchange="updateConfig('maxIncomingPeers', this.value)"
                                        placeholder="25">
                                    <div class="help-text">Maximum incoming connections</div>
                                </div>
                                <div class="form-group">
                                    <label for="max-outgoing-peers">Max Outgoing Peers</label>
                                    <input type="number" id="max-outgoing-peers" value="${config.maxOutgoingPeers}" 
                                        onchange="updateConfig('maxOutgoingPeers', this.value)"
                                        placeholder="25">
                                    <div class="help-text">Maximum outgoing connections</div>
                                </div>
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="enableDiscovery" 
                                            ${config.enableDiscovery ? 'checked' : ''}
                                            onchange="toggleCheckbox('enableDiscovery')">
                                        <label for="enableDiscovery">Enable Peer Discovery</label>
                                    </div>
                                    <div class="help-text">Automatically discover peers</div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="bootnode-uris">Bootnode URIs (one per line)</label>
                                <textarea id="bootnode-uris" onchange="updateConfig('bootnodesUris', this.value)" 
                                    placeholder="enode://..."
                                    rows="4">${config.bootnodesUris}</textarea>
                                <div class="help-text">Bootstrap node enode URIs</div>
                            </div>
                            <div class="subsection">
                                <h3>Discovery Settings</h3>
                                <div class="grid">
                                    <div class="form-group">
                                        <label for="known-nodes-file">Known Nodes File</label>
                                        <input type="text" id="known-nodes-file" value="${config.knownNodesFile}" 
                                            onchange="updateConfig('knownNodesFile', this.value)"
                                            placeholder="known-nodes.json">
                                    </div>
                                    <div class="form-group">
                                        <label for="update-nodes-delay">Update Nodes Initial Delay</label>
                                        <input type="text" id="update-nodes-delay" value="${config.updateNodesInitialDelay}" 
                                            onchange="updateConfig('updateNodesInitialDelay', this.value)"
                                            placeholder="5.seconds">
                                    </div>
                                    <div class="form-group">
                                        <label for="update-nodes-interval">Update Nodes Interval</label>
                                        <input type="text" id="update-nodes-interval" value="${config.updateNodesInterval}" 
                                            onchange="updateConfig('updateNodesInterval', this.value)"
                                            placeholder="20.seconds">
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'rpc':
                    contentEl.innerHTML = `
                        <div class="section">
                            <h2>RPC/API Configuration</h2>
                            
                            <div class="subsection">
                                <h3>HTTP RPC</h3>
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="enableRpcHttp" 
                                            ${config.enableRpcHttp ? 'checked' : ''}
                                            onchange="toggleCheckbox('enableRpcHttp'); renderTabContent();">
                                        <label for="enableRpcHttp">Enable HTTP RPC</label>
                                    </div>
                                </div>
                                ${config.enableRpcHttp ? `
                                    <div class="grid">
                                        <div class="form-group">
                                            <label for="rpc-http-mode">HTTP Mode</label>
                                            <select id="rpc-http-mode" onchange="updateConfig('rpcHttpMode', this.value)">
                                                <option value="http" ${config.rpcHttpMode === 'http' ? 'selected' : ''}>HTTP</option>
                                                <option value="https" ${config.rpcHttpMode === 'https' ? 'selected' : ''}>HTTPS</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="rpc-http-interface">HTTP Interface</label>
                                            <input type="text" id="rpc-http-interface" value="${config.rpcHttpInterface}" 
                                                onchange="updateConfig('rpcHttpInterface', this.value)"
                                                placeholder="127.0.0.1">
                                            <div class="help-text">RPC bind address</div>
                                        </div>
                                        <div class="form-group">
                                            <label for="rpc-http-port">HTTP Port</label>
                                            <input type="number" id="rpc-http-port" value="${config.rpcHttpPort}" 
                                                onchange="updateConfig('rpcHttpPort', this.value)"
                                                placeholder="8545">
                                        </div>
                                        <div class="form-group">
                                            <label for="rpc-cors-origins">CORS Allowed Origins</label>
                                            <input type="text" id="rpc-cors-origins" value="${config.rpcHttpCORSAllowedOrigins}" 
                                                onchange="updateConfig('rpcHttpCORSAllowedOrigins', this.value)"
                                                placeholder="*">
                                            <div class="help-text">Comma-separated origins</div>
                                        </div>
                                        <div class="form-group">
                                            <div class="checkbox-group">
                                                <input type="checkbox" id="rpcHttpRateLimitEnabled" 
                                                    ${config.rpcHttpRateLimitEnabled ? 'checked' : ''}
                                                    onchange="toggleCheckbox('rpcHttpRateLimitEnabled')">
                                                <label for="rpcHttpRateLimitEnabled">Enable Rate Limiting</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Enabled APIs</label>
                                        <div class="grid">
                                            ${['eth', 'web3', 'net', 'personal', 'admin', 'debug', 'txpool', 'rpc'].map(api => `
                                                <div class="checkbox-group">
                                                    <input type="checkbox" id="api-${api}" 
                                                        ${config.rpcHttpAPIs.includes(api) ? 'checked' : ''}
                                                        onchange="toggleAPI('${api}')">
                                                    <label for="api-${api}">${api}</label>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                ` : ''}
                            </div>
                            
                            <div class="subsection">
                                <h3>WebSocket RPC</h3>
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="enableRpcWs" 
                                            ${config.enableRpcWs ? 'checked' : ''}
                                            onchange="toggleCheckbox('enableRpcWs'); renderTabContent();">
                                        <label for="enableRpcWs">Enable WebSocket RPC</label>
                                    </div>
                                </div>
                                ${config.enableRpcWs ? `
                                    <div class="grid">
                                        <div class="form-group">
                                            <label for="rpc-ws-interface">WebSocket Interface</label>
                                            <input type="text" id="rpc-ws-interface" value="${config.rpcWsInterface}" 
                                                onchange="updateConfig('rpcWsInterface', this.value)"
                                                placeholder="127.0.0.1">
                                        </div>
                                        <div class="form-group">
                                            <label for="rpc-ws-port">WebSocket Port</label>
                                            <input type="number" id="rpc-ws-port" value="${config.rpcWsPort}" 
                                                onchange="updateConfig('rpcWsPort', this.value)"
                                                placeholder="8546">
                                        </div>
                                    </div>
                                ` : ''}
                            </div>
                            
                            <div class="subsection">
                                <h3>IPC RPC</h3>
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="enableRpcIpc" 
                                            ${config.enableRpcIpc ? 'checked' : ''}
                                            onchange="toggleCheckbox('enableRpcIpc'); renderTabContent();">
                                        <label for="enableRpcIpc">Enable IPC RPC</label>
                                    </div>
                                </div>
                                ${config.enableRpcIpc ? `
                                    <div class="form-group">
                                        <label for="rpc-ipc-socket">IPC Socket File</label>
                                        <input type="text" id="rpc-ipc-socket" value="${config.rpcIpcSocketFile}" 
                                            onchange="updateConfig('rpcIpcSocketFile', this.value)"
                                            placeholder="~/.fukuii/fukuii.ipc">
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'sync':
                    contentEl.innerHTML = `
                        <div class="section">
                            <h2>Synchronization Configuration</h2>
                            <div class="grid">
                                <div class="form-group">
                                    <label>Sync Mode</label>
                                    <select onchange="updateConfig('syncMode', this.value)">
                                        <option value="fast" ${config.syncMode === 'fast' ? 'selected' : ''}>Fast Sync</option>
                                        <option value="full" ${config.syncMode === 'full' ? 'selected' : ''}>Full Sync</option>
                                    </select>
                                    <div class="help-text">Blockchain sync strategy</div>
                                </div>
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="fastSyncEnabled" 
                                            ${config.fastSyncEnabled ? 'checked' : ''}
                                            onchange="toggleCheckbox('fastSyncEnabled')">
                                        <label for="fastSyncEnabled">Enable Fast Sync</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="bootstrapEnabled" 
                                            ${config.bootstrapEnabled ? 'checked' : ''}
                                            onchange="toggleCheckbox('bootstrapEnabled')">
                                        <label for="bootstrapEnabled">Enable Bootstrap</label>
                                    </div>
                                    <div class="help-text">Download bootstrap database</div>
                                </div>
                                <div class="form-group">
                                    <label for="pivot-block-offset">Pivot Block Offset</label>
                                    <input type="number" id="pivot-block-offset" value="${config.pivotBlockOffset}" 
                                        onchange="updateConfig('pivotBlockOffset', this.value)"
                                        placeholder="128">
                                </div>
                                <div class="form-group">
                                    <label>Max Headers Per Request</label>
                                    <input type="number" id="max-blocks-headers" value="${config.maxBlocksHeadersPerRequest}" 
                                        onchange="updateConfig('maxBlocksHeadersPerRequest', this.value)"
                                        placeholder="128">
                                </div>
                                <div class="form-group">
                                    <label>Max Bodies Per Request</label>
                                    <input type="number" id="max-blocks-bodies" value="${config.maxBlocksBodiesPerRequest}" 
                                        onchange="updateConfig('maxBlocksBodiesPerRequest', this.value)"
                                        placeholder="128">
                                </div>
                                <div class="form-group">
                                    <label for="max-receipts">Max Receipts Per Request</label>
                                    <input type="number" id="max-receipts" value="${config.maxReceiptsPerRequest}" 
                                        onchange="updateConfig('maxReceiptsPerRequest', this.value)"
                                        placeholder="60">
                                </div>
                                <div class="form-group">
                                    <label for="fast-sync-throttle">Fast Sync Throttle</label>
                                    <input type="text" id="fast-sync-throttle" value="${config.fastSyncThrottle}" 
                                        onchange="updateConfig('fastSyncThrottle', this.value)"
                                        placeholder="100.milliseconds">
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'mining':
                    contentEl.innerHTML = `
                        <div class="section">
                            <h2>Mining Configuration</h2>
                            <div class="form-group">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="enableMining" 
                                        ${config.enableMining ? 'checked' : ''}
                                        onchange="toggleCheckbox('enableMining'); renderTabContent();">
                                    <label for="enableMining">Enable Mining (PoW)</label>
                                </div>
                                <div class="help-text">Enable Ethash mining</div>
                            </div>
                            ${config.enableMining ? `
                                <div class="grid">
                                    <div class="form-group">
                                        <label>Miner Coinbase</label>
                                        <input type="text" id="miner-coinbase" value="${config.minerCoinbase}" 
                                            onchange="updateConfig('minerCoinbase', this.value)"
                                            placeholder="0x...">
                                        <div class="help-text">Address for mining rewards</div>
                                    </div>
                                    <div class="form-group">
                                        <label for="miner-extra-data">Miner Extra Data</label>
                                        <input type="text" id="miner-extra-data" value="${config.minerExtraData}" 
                                            onchange="updateConfig('minerExtraData', this.value)"
                                            placeholder="fukuii">
                                        <div class="help-text">Extra data in mined blocks</div>
                                    </div>
                                    <div class="form-group">
                                        <label for="ethash-dir">Ethash Directory</label>
                                        <input type="text" id="ethash-dir" value="${config.ethashDir}" 
                                            onchange="updateConfig('ethashDir', this.value)"
                                            placeholder="~/.fukuii/ethash">
                                    </div>
                                    <div class="form-group">
                                        <label for="mine-rounds">Mine Rounds</label>
                                        <input type="number" id="mine-rounds" value="${config.mineRounds}" 
                                            onchange="updateConfig('mineRounds', this.value)"
                                            placeholder="100000">
                                    </div>
                                    <div class="form-group">
                                        <label>Gas Limit</label>
                                        <input type="number" value="${config.gasLimit}" 
                                            onchange="updateConfig('gasLimit', this.value)"
                                            placeholder="8000000">
                                    </div>
                                    <div class="form-group">
                                        <label>Min Gas Price (Wei)</label>
                                        <input type="number" value="${config.minGasPrice}" 
                                            onchange="updateConfig('minGasPrice', this.value)"
                                            placeholder="1000000000">
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    `;
                    break;
                    
                case 'storage':
                    contentEl.innerHTML = `
                        <div class="section">
                            <h2>Storage & Database Configuration</h2>
                            <div class="grid">
                                <div class="form-group">
                                    <label>Pruning Mode</label>
                                    <select onchange="updateConfig('pruningMode', this.value)">
                                        <option value="archive" ${config.pruningMode === 'archive' ? 'selected' : ''}>Archive (No Pruning)</option>
                                        <option value="basic" ${config.pruningMode === 'basic' ? 'selected' : ''}>Basic Pruning</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="rocksdb-cache-size">Cache Size (MB)</label>
                                    <input type="number" value="${config.cacheSize}" 
                                        onchange="updateConfig('cacheSize', this.value)"
                                        placeholder="256">
                                </div>
                            </div>
                            
                            <div class="subsection">
                                <h3>RocksDB Settings</h3>
                                <div class="grid">
                                    <div class="form-group">
                                        <label>RocksDB Cache Size (MB)</label>
                                        <input type="number" id="rocksdb-cache-size" value="${config.rocksDbCacheSize}" 
                                            onchange="updateConfig('rocksDbCacheSize', this.value)"
                                            placeholder="256">
                                    </div>
                                    <div class="form-group">
                                        <label for="rocksdb-block-cache">Block Cache Size (MB)</label>
                                        <input type="number" id="rocksdb-block-cache" value="${config.rocksDbBlockCacheSize}" 
                                            onchange="updateConfig('rocksDbBlockCacheSize', this.value)"
                                            placeholder="128">
                                    </div>
                                    <div class="form-group">
                                        <label for="rocksdb-write-buffer">Write Buffer Size (MB)</label>
                                        <input type="number" id="rocksdb-write-buffer" value="${config.rocksDbWriteBufferSize}" 
                                            onchange="updateConfig('rocksDbWriteBufferSize', this.value)"
                                            placeholder="64">
                                    </div>
                                    <div class="form-group">
                                        <label for="rocksdb-max-files">Max Open Files</label>
                                        <input type="number" id="rocksdb-max-files" value="${config.rocksDbMaxOpenFiles}" 
                                            onchange="updateConfig('rocksDbMaxOpenFiles', this.value)"
                                            placeholder="-1">
                                        <div class="help-text">-1 = unlimited</div>
                                    </div>
                                    <div class="form-group">
                                        <label for="rocksdb-parallelism">Parallelism</label>
                                        <input type="number" id="rocksdb-parallelism" value="${config.rocksDbParallelism}" 
                                            onchange="updateConfig('rocksDbParallelism', this.value)"
                                            placeholder="2">
                                    </div>
                                    <div class="form-group">
                                        <label for="rocksdb-compression">Compression</label>
                                        <select id="rocksdb-compression" onchange="updateConfig('rocksDbCompression', this.value)">
                                            <option value="snappy" ${config.rocksDbCompression === 'snappy' ? 'selected' : ''}>Snappy</option>
                                            <option value="lz4" ${config.rocksDbCompression === 'lz4' ? 'selected' : ''}>LZ4</option>
                                            <option value="none" ${config.rocksDbCompression === 'none' ? 'selected' : ''}>None</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'txpool':
                    contentEl.innerHTML = `
                        <div class="section">
                            <h2>Transaction Pool Configuration</h2>
                            <div class="form-group">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="enableTxPool" 
                                        ${config.enableTxPool ? 'checked' : ''}
                                        onchange="toggleCheckbox('enableTxPool'); renderTabContent();">
                                    <label for="enableTxPool">Enable Transaction Pool</label>
                                </div>
                            </div>
                            ${config.enableTxPool ? `
                                <div class="grid">
                                    <div class="form-group">
                                        <label>TX Pool Size</label>
                                        <input type="number" id="txpool-size" value="${config.txPoolSize}" 
                                            onchange="updateConfig('txPoolSize', this.value)"
                                            placeholder="4096">
                                    </div>
                                    <div class="form-group">
                                        <label>Query Timeout</label>
                                        <input type="text" id="pending-tx-timeout" value="${config.pendingTxManagerQueryTimeout}" 
                                            onchange="updateConfig('pendingTxManagerQueryTimeout', this.value)"
                                            placeholder="5.seconds">
                                    </div>
                                    <div class="form-group">
                                        <label for="transaction-timeout">Transaction Timeout</label>
                                        <input type="text" id="transaction-timeout" value="${config.transactionTimeout}" 
                                            onchange="updateConfig('transactionTimeout', this.value)"
                                            placeholder="30.minutes">
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    `;
                    break;
                    
                case 'health':
                    contentEl.innerHTML = `
                        <div class="section">
                            <h2>Health Check & Metrics</h2>
                            
                            <div class="subsection">
                                <h3>Health Check</h3>
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="enableHealthCheck" 
                                            ${config.enableHealthCheck ? 'checked' : ''}
                                            onchange="toggleCheckbox('enableHealthCheck'); renderTabContent();">
                                        <label for="enableHealthCheck">Enable Health Check Endpoints</label>
                                    </div>
                                    <div class="help-text">/health, /readiness, /healthcheck</div>
                                </div>
                                ${config.enableHealthCheck ? `
                                    <div class="grid">
                                        <div class="form-group">
                                            <label>Health Check Port</label>
                                            <input type="number" value="${config.healthCheckPort}" 
                                                onchange="updateConfig('healthCheckPort', this.value)"
                                                placeholder="8546">
                                        </div>
                                        <div class="form-group">
                                            <label>No Update Threshold</label>
                                            <input type="text" id="health-no-update" value="${config.healthCheckNoUpdateThreshold}" 
                                                onchange="updateConfig('healthCheckNoUpdateThreshold', this.value)"
                                                placeholder="30.minutes">
                                            <div class="help-text">Max time without block updates</div>
                                        </div>
                                        <div class="form-group">
                                            <label>Syncing Threshold</label>
                                            <input type="number" id="health-syncing" value="${config.healthCheckSyncingThreshold}" 
                                                onchange="updateConfig('healthCheckSyncingThreshold', this.value)"
                                                placeholder="10">
                                            <div class="help-text">Block difference for synced status</div>
                                        </div>
                                    </div>
                                ` : ''}
                            </div>
                            
                            <div class="subsection">
                                <h3>Metrics (Prometheus)</h3>
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="enableMetrics" 
                                            ${config.enableMetrics ? 'checked' : ''}
                                            onchange="toggleCheckbox('enableMetrics'); renderTabContent();">
                                        <label for="enableMetrics">Enable Prometheus Metrics</label>
                                    </div>
                                </div>
                                ${config.enableMetrics ? `
                                    <div class="grid">
                                        <div class="form-group">
                                            <label for="metrics-port">Metrics Port</label>
                                            <input type="number" id="metrics-port" value="${config.metricsPort}" 
                                                onchange="updateConfig('metricsPort', this.value)"
                                                placeholder="13798">
                                        </div>
                                        <div class="form-group">
                                            <label for="metrics-host">Metrics Host</label>
                                            <input type="text" id="metrics-host" value="${config.metricsHost}" 
                                                onchange="updateConfig('metricsHost', this.value)"
                                                placeholder="127.0.0.1">
                                        </div>
                                    </div>
                                ` : ''}
                            </div>
                            
                            <div class="subsection">
                                <h3>Logging</h3>
                                <div class="grid">
                                    <div class="form-group">
                                        <label for="log-level">Log Level</label>
                                        <select id="log-level" onchange="updateConfig('logLevel', this.value)">
                                            <option value="ERROR" ${config.logLevel === 'ERROR' ? 'selected' : ''}>ERROR</option>
                                            <option value="WARN" ${config.logLevel === 'WARN' ? 'selected' : ''}>WARN</option>
                                            <option value="INFO" ${config.logLevel === 'INFO' ? 'selected' : ''}>INFO</option>
                                            <option value="DEBUG" ${config.logLevel === 'DEBUG' ? 'selected' : ''}>DEBUG</option>
                                            <option value="TRACE" ${config.logLevel === 'TRACE' ? 'selected' : ''}>TRACE</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Log Directory</label>
                                        <input type="text" id="logs-dir" value="${config.logDir}" 
                                            onchange="updateConfig('logDir', this.value)"
                                            placeholder="~/.fukuii/logs">
                                    </div>
                                    <div class="form-group">
                                        <label>Log File</label>
                                        <input type="text" id="log-file" value="${config.logFile}" 
                                            onchange="updateConfig('logFile', this.value)"
                                            placeholder="fukuii.log">
                                    </div>
                                    <div class="form-group">
                                        <div class="checkbox-group">
                                            <input type="checkbox" id="jsonRpcLogEnabled" 
                                                ${config.jsonRpcLogEnabled ? 'checked' : ''}
                                                onchange="toggleCheckbox('jsonRpcLogEnabled')">
                                            <label for="jsonRpcLogEnabled">Enable JSON-RPC Logging</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'security':
                    contentEl.innerHTML = `
                        <div class="section">
                            <h2>Security Configuration</h2>
                            <div class="subsection">
                                <h3>TLS/SSL</h3>
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="enableTLS" 
                                            ${config.enableTLS ? 'checked' : ''}
                                            onchange="toggleCheckbox('enableTLS'); renderTabContent();">
                                        <label for="enableTLS">Enable TLS for RPC</label>
                                    </div>
                                </div>
                                ${config.enableTLS ? `
                                    <div class="grid">
                                        <div class="form-group">
                                            <label>Certificate KeyStore Path</label>
                                            <input type="text" value="${config.certificateKeyStorePath}" 
                                                onchange="updateConfig('certificateKeyStorePath', this.value)"
                                                placeholder="/path/to/keystore.p12">
                                        </div>
                                        <div class="form-group">
                                            <label>KeyStore Type</label>
                                            <select onchange="updateConfig('certificateKeyStoreType', this.value)">
                                                <option value="PKCS12" ${config.certificateKeyStoreType === 'PKCS12' ? 'selected' : ''}>PKCS12</option>
                                                <option value="JKS" ${config.certificateKeyStoreType === 'JKS' ? 'selected' : ''}>JKS</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label>Certificate Password File</label>
                                            <input type="text" value="${config.certificatePasswordFile}" 
                                                onchange="updateConfig('certificatePasswordFile', this.value)"
                                                placeholder="/path/to/password.txt">
                                        </div>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    `;
                    break;
                    
                case 'advanced':
                    contentEl.innerHTML = `
                        <div class="section">
                            <h2>Advanced Configuration</h2>
                            
                            <div class="subsection">
                                <h3>Network Timeouts</h3>
                                <div class="grid">
                                    <div class="form-group">
                                        <label>Network Timeout</label>
                                        <input type="text" value="${config.networkTimeoutDuration}" 
                                            onchange="updateConfig('networkTimeoutDuration', this.value)"
                                            placeholder="30.seconds">
                                    </div>
                                    <div class="form-group">
                                        <label>Handshake Timeout</label>
                                        <input type="text" value="${config.handshakeTimeout}" 
                                            onchange="updateConfig('handshakeTimeout', this.value)"
                                            placeholder="30.seconds">
                                    </div>
                                    <div class="form-group">
                                        <label>Connect Max Retries</label>
                                        <input type="number" value="${config.connectMaxRetries}" 
                                            onchange="updateConfig('connectMaxRetries', this.value)"
                                            placeholder="3">
                                    </div>
                                    <div class="form-group">
                                        <label>Connect Retry Delay</label>
                                        <input type="text" value="${config.connectRetryDelay}" 
                                            onchange="updateConfig('connectRetryDelay', this.value)"
                                            placeholder="1.second">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="subsection">
                                <h3>Filter Configuration</h3>
                                <div class="grid">
                                    <div class="form-group">
                                        <label>Filter Manager Timeout</label>
                                        <input type="text" value="${config.filterManagerQueryTimeout}" 
                                            onchange="updateConfig('filterManagerQueryTimeout', this.value)"
                                            placeholder="3.minutes">
                                    </div>
                                    <div class="form-group">
                                        <label>Filter Timeout</label>
                                        <input type="text" value="${config.filterTimeout}" 
                                            onchange="updateConfig('filterTimeout', this.value)"
                                            placeholder="10.minutes">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="subsection">
                                <h3>VM Configuration</h3>
                                <div class="grid">
                                    <div class="form-group">
                                        <div class="checkbox-group">
                                            <input type="checkbox" id="vmTraceEnabled" 
                                                ${config.vmTraceEnabled ? 'checked' : ''}
                                                onchange="toggleCheckbox('vmTraceEnabled')">
                                            <label for="vmTraceEnabled">Enable VM Tracing</label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>VM External Max Threads</label>
                                        <input type="number" value="${config.vmExternalMaxThreads}" 
                                            onchange="updateConfig('vmExternalMaxThreads', this.value)"
                                            placeholder="4">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="subsection">
                                <h3>Development</h3>
                                <div class="form-group">
                                    <div class="checkbox-group">
                                        <input type="checkbox" id="developmentMode" 
                                            ${config.developmentMode ? 'checked' : ''}
                                            onchange="toggleCheckbox('developmentMode')">
                                        <label for="developmentMode">Development Mode</label>
                                    </div>
                                    <div class="help-text">Enable developer-friendly settings</div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Custom Configuration (HOCON Format)</label>
                                <textarea id="custom-flags" onchange="updateConfig('customFlags', this.value)" 
                                    placeholder="Additional HOCON configuration..."
                                    rows="6">${config.customFlags}</textarea>
                                <div class="help-text">Advanced custom options</div>
                            </div>
                        </div>
                    `;
                    break;
            }
        }

        function generateConfig() {
            const lines = [];
            lines.push('# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            lines.push('# FUKUII ENTERPRISE NODE CONFIGURATION');
            lines.push('# Secure, Scalable Ethereum Classic Infrastructure');
            lines.push('# Generated: ' + new Date().toISOString());
            lines.push('# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            lines.push('');
            lines.push('# ‚ö†Ô∏è  CRITICAL: Include base configuration (REQUIRED)');
            lines.push('# This loads all default Fukuii settings. Without this line,');
            lines.push('# the node will fail with: "No configuration setting found for key \'fukuii\'"');
            lines.push('include "app.conf"');
            lines.push('');
            lines.push('# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            lines.push('# CUSTOM CONFIGURATION OVERRIDES');
            lines.push('# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            lines.push('');
            
            // Network Configuration
            lines.push('fukuii {');
            lines.push('  # Network Configuration');
            lines.push('  blockchains {');
            lines.push(`    network = "${config.networkId}"`);
            lines.push('  }');
            lines.push('');
            lines.push('  # Data Directory');
            lines.push(`  datadir = "${config.dataDir}"`);
            lines.push('');
            
            // P2P Configuration
            lines.push('  # Node Identity and P2P Configuration');
            lines.push('  network {');
            if (config.nodeName && config.nodeName !== 'fukuii-node') {
                lines.push(`    node-name = "${config.nodeName}"`);
            }
            lines.push('    ');
            lines.push('    # Peer-to-Peer Settings');
            lines.push('    peer {');
            lines.push(`      port = ${config.p2pPort}`);
            lines.push(`      interface = "${config.p2pHost}"`);
            lines.push(`      max-peers = ${config.maxPeers}`);
            lines.push(`      max-incoming-peers = ${config.maxIncomingPeers}`);
            lines.push(`      max-outgoing-peers = ${config.maxOutgoingPeers}`);
            lines.push(`      discovery-enabled = ${config.enableDiscovery}`);
            if (config.bootnodesUris) {
                lines.push('      bootnodes-uris = [');
                config.bootnodesUris.split('\n').filter(n => n.trim()).forEach((node, i, arr) => {
                    lines.push(`        "${node.trim()}"${i < arr.length - 1 ? ',' : ''}`);
                });
                lines.push('      ]');
            }
            lines.push('    }');
            lines.push('');
            
            // RPC Configuration
            lines.push('    # RPC Configuration');
            lines.push('    rpc {');
            if (config.enableRpcHttp) {
                lines.push('      http {');
                lines.push(`        mode = "${config.rpcHttpMode}"`);
                lines.push(`        interface = "${config.rpcHttpInterface}"`);
                lines.push(`        port = ${config.rpcHttpPort}`);
                lines.push(`        apis = "${config.rpcHttpAPIs.join(',')}"`);
                lines.push(`        cors-allowed-origins = "${config.rpcHttpCORSAllowedOrigins}"`);
                lines.push(`        rate-limit-enabled = ${config.rpcHttpRateLimitEnabled}`);
                lines.push('      }');
            }
            if (config.enableRpcWs) {
                lines.push('      websocket {');
                lines.push(`        interface = "${config.rpcWsInterface}"`);
                lines.push(`        port = ${config.rpcWsPort}`);
                lines.push('      }');
            }
            if (config.enableRpcIpc) {
                lines.push('      ipc {');
                lines.push(`        socket-file = "${config.rpcIpcSocketFile}"`);
                lines.push('      }');
            }
            if (config.enableHealthCheck) {
                lines.push('      health {');
                lines.push(`        no-update-duration-threshold = ${config.healthCheckNoUpdateThreshold}`);
                lines.push(`        syncing-status-threshold = ${config.healthCheckSyncingThreshold}`);
                lines.push('      }');
            }
            lines.push('    }');
            lines.push('  }');
            lines.push('');
            
            // Mining Configuration
            if (config.enableMining) {
                lines.push('  # Mining Configuration');
                lines.push('  mining {');
                lines.push(`    enabled = ${config.enableMining}`);
                lines.push(`    coinbase = "${config.minerCoinbase}"`);
                lines.push(`    extra-data = "${config.minerExtraData}"`);
                lines.push(`    ethash-dir = "${config.ethashDir}"`);
                lines.push(`    mine-rounds = ${config.mineRounds}`);
                lines.push('  }');
                lines.push('');
            }
            
            // Sync Configuration
            lines.push('  # Synchronization Configuration');
            lines.push('  sync {');
            lines.push(`    do-fast-sync = ${config.fastSyncEnabled}`);
            lines.push(`    bootstrap-enabled = ${config.bootstrapEnabled}`);
            lines.push(`    pivot-block-offset = ${config.pivotBlockOffset}`);
            lines.push(`    max-blocks-headers-per-request = ${config.maxBlocksHeadersPerRequest}`);
            lines.push(`    max-blocks-bodies-per-request = ${config.maxBlocksBodiesPerRequest}`);
            lines.push(`    max-receipts-per-request = ${config.maxReceiptsPerRequest}`);
            lines.push(`    fast-sync-throttle = ${config.fastSyncThrottle}`);
            lines.push('  }');
            lines.push('');
            
            // Database Configuration
            lines.push('  # Database Configuration');
            lines.push('  datadir = "${fukuii.network.data-dir}"');
            lines.push('  db {');
            lines.push('    rocksdb {');
            lines.push(`      cache-size = ${config.rocksDbCacheSize}M`);
            lines.push(`      block-cache-size = ${config.rocksDbBlockCacheSize}M`);
            lines.push(`      write-buffer-size = ${config.rocksDbWriteBufferSize}M`);
            lines.push(`      max-open-files = ${config.rocksDbMaxOpenFiles}`);
            lines.push(`      parallelism = ${config.rocksDbParallelism}`);
            lines.push(`      compression = "${config.rocksDbCompression}"`);
            lines.push('    }');
            lines.push('  }');
            lines.push('');
            
            // Transaction Pool
            if (config.enableTxPool) {
                lines.push('  # Transaction Pool');
                lines.push('  txpool {');
                lines.push(`    pool-size = ${config.txPoolSize}`);
                lines.push(`    pending-tx-manager-query-timeout = ${config.pendingTxManagerQueryTimeout}`);
                lines.push(`    transaction-timeout = ${config.transactionTimeout}`);
                lines.push('  }');
                lines.push('');
            }
            
            // Metrics
            if (config.enableMetrics) {
                lines.push('  # Metrics');
                lines.push('  metrics {');
                lines.push(`    enabled = ${config.enableMetrics}`);
                lines.push(`    port = ${config.metricsPort}`);
                lines.push(`    host = "${config.metricsHost}"`);
                lines.push('  }');
                lines.push('');
            }
            
            // Logging
            lines.push('  # Logging');
            lines.push('  logging {');
            lines.push(`    level = "${config.logLevel}"`);
            lines.push(`    logs-dir = "${config.logDir}"`);
            lines.push(`    logs-file = "${config.logFile}"`);
            lines.push(`    json-rpc-log-enabled = ${config.jsonRpcLogEnabled}`);
            lines.push('  }');
            lines.push('');
            
            // Custom Flags
            if (config.customFlags) {
                lines.push('  # Custom Configuration');
                lines.push(config.customFlags);
                lines.push('');
            }
            
            lines.push('}');
            lines.push('');
            lines.push('# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            lines.push('# END OF CONFIGURATION');
            lines.push('# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            
            const configText = lines.join('\n');
            
            const outputSection = document.getElementById('output-section');
            outputSection.className = 'section';
            outputSection.innerHTML = `
                <h2>Generated Configuration</h2>
                <div class="config-output">${configText}</div>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="downloadConfig()">
                        üíæ Download Config
                    </button>
                    <button class="btn btn-primary" onclick="copyConfig()">
                        üìã Copy to Clipboard
                    </button>
                </div>
            `;
        }

        function downloadConfig() {
            const configText = document.querySelector('.config-output').textContent;
            const blob = new Blob([configText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'fukuii-node.conf';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function copyConfig() {
            const configText = document.querySelector('.config-output').textContent;
            navigator.clipboard.writeText(configText).then(() => {
                alert('‚úì Configuration copied to clipboard!');
            });
        }

        function resetConfig() {
            if (confirm('‚ö† Reset all configuration to defaults?')) {
                location.reload();
            }
        }

        // Initialize on page load
        window.onload = init;
    </script>
</body>
</html>
