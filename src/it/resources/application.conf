# Integration Test Configuration
# Overrides the default configuration to use temporary directories and avoid lock contention

include "conf/base.conf"

fukuii {
  # Use system temp directory for integration tests instead of ~/.fukuii
  # This avoids conflicts with any running node and between test runs
  # Uses java.io.tmpdir for system-independent temporary directory
  # Adds a unique suffix via FUKUII_TEST_ID system property (set by build) or timestamp
  datadir = ${java.io.tmpdir}"/fukuii-integration-test-"${?FUKUII_TEST_ID}

  # Disable testmode to match production-like environment
  testmode = false
  
  db {
    rocksdb {
      # Override RocksDB path to use the test-specific directory
      # Each test run gets a unique directory to prevent lock contention
      path = ${fukuii.datadir}"/rocksdb/"
    }
  }
}
